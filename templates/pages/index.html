{% extends 'base.html' %} 
{% load humanize %}
{% load static %}

{% block title %} | Welcome {% endblock %}
{% block content %}
<!-- Showcase -->
<section class="showcase--home">
    <h3 class="heading-3">Your own home</h3>
    <h1 class="heading-1">The Ultimate Personal Freedom</h1>
    <a class="btn showcase--home__btn" href="{% url 'listings' %}">View our properties</a>
    <div class="showcase--home__seenon-text">As Seen on</div>
    <div class="showcase--home__seenon-logos">
      <img src="{% static 'img/logo-bbc.png' %}" alt="Seen on logo 1" />
      <img src="{% static 'img/logo-forbes.png' %}" alt="Seen on logo 2" />
      <img src="{% static 'img/logo-techcrunch.png' %}" alt="Seen on logo 3" />
      <img src="{% static 'img/logo-bi.png' %}" alt="Seen on logo 4" />
    </div>
  </section>

  <!-- Top 3 Realtors -->
  
  <div class="realtors">
    <h3 class="heading-3 realtors__heading">Top 3 Realtors</h3>
    <div class="realtors__list">
      {% if top_three %}
        {% for realtor in top_three %}
          <img src="{{ realtor.photo.url }}" alt="Realtor 1" class="realtors__img" />
          <div class="realtors__details">
          <h4 class="heading-4 heading-4--light">{{ realtor.name }}</h4>
          <p class="realtors__sold">{{ realtor.sold_houses }} houses sold</p>
        </div>
        {% endfor %}
    {% endif %}
    </div>
  </div>


  <!-- Search Properties -->
  <section class="search mt-osection">

  {% include 'partials/_alerts.html' %}
    <div class="search__description">
      <h2 class="heading-2 text-center">Property Searching just got easy</h2>
      <p class="search__text">
        Search for properties that matches you exact needs and comfort. From
        luxurious Villas to residential homes, to flats.
      </p>
    </div>
    <form action="{% url 'search' %}" class="search__form">
      <input
        type="text"
        name="keywords"
        id="keywords"
        placeholder="Keywords (Pool, Garage etc)"
      />
      <input type="text" name="city" id="city" placeholder="City" />
      <select name="province" id="province">
        <option selected="true" disabled="disabled">Province (ALL)</option>
        {% for key, value in province_choices.items %}
          <option value="{{key}}">{{ value }}</option>
        {% endfor %}
      </select>

      <select name="rooms" id="rooms">
        <option selected="true" disabled="disabled">Rooms (ALL)</option>
        {% for key,value in room_choices.items %}
          <option value="{{ key }}">{{ value }}</option>
        {% endfor %}
      </select>
      <select name="price" id="price">
        <option selected="true" disabled="disabled">Max Price (Any)</option>
        {% for key,value in price_choices.items %}
          <option value="{{ key }}">{{ value }}</option>
        {% endfor %}
      </select>
      <button class="btn btn__full search__btn">Search Now</button>
    </form>
  </section>

  <!-- Features Section -->
  <section class="features mt-home mb-home">
    <!-- Feature 1 -->
    <div class="feature">
      <svg class="feature__icon">
        <use xlink:href="{% static 'img/sprite.svg' %}#icon-global"></use>
      </svg>
      <h4 class="heading-4 heading-4--dark">World's best luxury homes</h4>
      <p class="feature__text">
        Lorem, ipsum dolor sit amet consectetur adipisicing elit. Tenetur
        distinctio necessitatibus pariatur voluptatibus.
      </p>
    </div>

    <!-- Feature 2 -->
    <div class="feature">
      <svg class="feature__icon">
        <use xlink:href="{% static 'img/sprite.svg' %}#icon-trophy"></use>
      </svg>
      <h4 class="heading-4 heading-4--dark">Only the best properties</h4>
      <p class="feature__text">
        Voluptatum mollitia quae. Vero ipsum sapiente molestias accusamus
        rerum sed a eligendi aut quia.
      </p>
    </div>

    <!-- Feature 3 -->
    <div class="feature">
      <svg class="feature__icon">
        <use xlink:href="{% static 'img/sprite.svg' %}#icon-map-pin"></use>
      </svg>
      <h4 class="heading-4 heading-4--dark">All homes in top locations</h4>
      <p class="feature__text">
        Tenetur distinctio necessitatibus pariatur voluptatibus quidem
        consequatur harum.
      </p>
    </div>

    <!-- Feature 4 -->
    <div class="feature">
      <svg class="feature__icon">
        <use xlink:href="{% static 'img/sprite.svg' %}#icon-key"></use>
      </svg>
      <h4 class="heading-4 heading-4--dark">New home in one week</h4>
      <p class="feature__text">
        Vero ipsum sapiente molestias accusamus rerum. Lorem, ipsum dolor sit
        amet consectetur adipisicing elit.
      </p>
    </div>

    <!-- Feature 5 -->
    <div class="feature">
      <svg class="feature__icon">
        <use xlink:href="{% static 'img/sprite.svg' %}#icon-presentation"></use>
      </svg>
      <h4 class="heading-4 heading-4--dark">Top 1% realtors</h4>
      <p class="feature__text">
        Quidem consequatur harum, voluptatum mollitia quae. Tenetur distinctio
        necessitatibus pariatur voluptatibus.
      </p>
    </div>

    <!-- Feature 6 -->
    <div class="feature">
      <svg class="feature__icon">
        <use xlink:href="{% static 'img/sprite.svg' %}#icon-lock"></use>
      </svg>
      <h4 class="heading-4 heading-4--dark">Secure payments on Nexter</h4>
      <p class="feature__text">
        Pariatur voluptatibus quidem consequatur harum, voluptatum mollitia
        quae.
      </p>
    </div>
  </section>

  <!-- Story Section -->
  <div class="story__picture">
    <img
      src="{% static 'img/story-1.jpeg' %}"
      alt="Couple with new house"
      class="story__img--1"
    />
    <img src="{% static 'img/story-2.jpeg' %}" alt="New house" class="story__img--2" />
  </div>

  <div class="story__content">
    <h3 class="heading-3 mb-sm">Happy Customers</h3>
    <h2 class="heading-2 heading-2--dark heading-2--italic mb-md">
      &ldquo;The best decision of our live&rdquo;
    </h2>
    <p class="story__text">
      Lorem, ipsum dolor sit amet consectetur adipisicing elit. Tenetur
      distinctio necessitatibus pariatur voluptatibus. Quidem consequatur
      harum volupta!
    </p>
    <a class="btn" href="{% url 'listings' %}">Find your own home</a>
  </div>

  <!-- Listings -->
  <section class="homes mt-home mb-home">

    {% if listings %}
      {% for listing in listings %}
        <div class="home">
          <img src="{{ listing.photo_main.url }}" alt="House 1" class="home__img" />
          <svg class="home__like hidden__main">
            <use xlink:href="{% static 'img/sprite.svg'%}#icon-heart-outlined"></use>
          </svg>
    
          <h5 class="home__name">{{ listing.title }}</h5>
    
          <div class="home__location">
            <svg class="home__like">
              <use xlink:href="{% static 'img/sprite.svg' %}#icon-map-pin"></use>
            </svg>
            <p>{{ listing.country }}</p>
          </div>
    
          <div class="home__rooms">
            <svg class="home__like">
              <use xlink:href="{% static 'img/sprite.svg' %}#icon-profile-male"></use>
            </svg>
            <p>{{listing.rooms}} rooms</p>
          </div>
    
          <div class="home__area">
            <svg class="home__like">
              <use xlink:href="{% static 'img/sprite.svg' %}#icon-expand"></use>
            </svg>
            <p>{{listing.sqft}} m<sup>2</sup></p>
          </div>
    
          <div class="home__price">
            <svg class="home__like">
              <use xlink:href="{% static 'img/sprite.svg' %}#icon-key"></use>
            </svg>
            <p>${{ listing.price | intcomma }}</p>
          </div>
          <a href="{% url 'listing' listing.id %}" class="btn home__btn">More Information</a>
          <!-- <button class="btn home__btn">More Information</button> -->
        </div>
      {% endfor %}
    {% else %}
      <div class="nolisting" style="font-size: 1.8rem">
        <p class="nolisting__text text-center">No Listings available</p>
      </div>
    {% endif %}
  </section>

  <!-- Gallery -->
  <section class="gallery">
    <figure class="gallery__item gallery__item--1">
      <img src="{% static 'img/gal-1.jpeg' %} " alt="Gallery image 1" class="gallery__img" />
    </figure>
    <figure class="gallery__item gallery__item--2">
      <img src="{% static 'img/gal-2.jpeg' %}" alt="Gallery image 2" class="gallery__img" />
    </figure>
    <figure class="gallery__item gallery__item--3">
      <img src="{% static 'img/gal-3.jpeg' %}" alt="Gallery image 3" class="gallery__img" />
    </figure>
    <figure class="gallery__item gallery__item--4">
      <img src="{% static 'img/gal-4.jpeg' %}" alt="Gallery image 4" class="gallery__img" />
    </figure>
    <figure class="gallery__item gallery__item--5">
      <img src="{% static 'img/gal-5.jpeg' %}" alt="Gallery image 5" class="gallery__img" />
    </figure>
    <figure class="gallery__item gallery__item--6">
      <img src="{% static 'img/gal-6.jpeg' %}" alt="Gallery image 6" class="gallery__img" />
    </figure>
    <figure class="gallery__item gallery__item--7">
      <img src="{% static 'img/gal-7.jpeg' %}" alt="Gallery image 7" class="gallery__img" />
    </figure>
    <figure class="gallery__item gallery__item--8">
      <img src="{% static 'img/gal-8.jpeg' %}" alt="Gallery image 8" class="gallery__img" />
    </figure>
    <figure class="gallery__item gallery__item--9">
      <img src="{% static 'img/gal-9.jpeg' %}" alt="Gallery image 9" class="gallery__img" />
    </figure>
    <figure class="gallery__item gallery__item--10">
      <img
        src="{% static 'img/gal-10.jpeg' %}"
        alt="Gallery image 10"
        class="gallery__img"
      />
    </figure>
    <figure class="gallery__item gallery__item--11">
      <img
        src="{% static 'img/gal-11.jpeg' %}"
        alt="Gallery image 11"
        class="gallery__img"
      />
    </figure>
    <figure class="gallery__item gallery__item--12">
      <img
        src="{% static 'img/gal-12.jpeg' %}"
        alt="Gallery image 12"
        class="gallery__img"
      />
    </figure>
    <figure class="gallery__item gallery__item--13">
      <img
        src="{% static 'img/gal-13.jpeg' %}"
        alt="Gallery image 13"
        class="gallery__img"
      />
    </figure>
    <figure class="gallery__item gallery__item--14">
      <img
        src="{% static 'img/gal-14.jpeg' %}"
        alt="Gallery image 14"
        class="gallery__img"
      />
    </figure>
  </section>
{% endblock %}
